# π¤” μΈν…”λ¦¬μ μ΄μ—μ„ Gradle λΉλ“μ‹ OutOfMemory λ¬Έμ 

### λ¨Έλ¦Ώλ§

μ €λ”μ†λ„ μ΄μ  λ•λ¬Έμ— κ·Έλλ“¤ ν”„λ΅μ νΈ λΉλ“μ™€ μ‹¤ν–‰μ„ μΈν…”λ¦¬μ μ΄λ΅ μ„¤μ •ν•΄λ†“κ³  λλ¦¬κ³¤ ν•©λ‹λ‹¤.

κ·Έλ°λ° μ–Όλ§ μ „ μΈν…”λ¦¬μ μ΄μ—μ„ Gradle ν”„λ΅μ νΈλ¥Ό λΉλ“ν•λ‹¤κ°€ `OutOfMemoryError(OOM)`μ΄ λ°μƒν–μµλ‹λ‹¤. \
ν•μ§€λ§ ν„°λ―Έλ„μ—μ„ `./gradlew build`λ΅ λΉλ“ν•λ©΄ μ •μƒμ μΌλ΅ λ™μ‘ν–μµλ‹λ‹¤.

ν”„λ΅μ νΈκ°€ ν¬μ§€ μ•μ•μμ—λ„ μ΄λ° λ¬Έμ κ°€ λ°μƒν• μ΄μ λ” λ‘ κ°€μ§€μ€μµλ‹λ‹¤.

* μΈν…”λ¦¬μ μ΄κ°€ μ§μ ‘ λΉλ“λ¥Ό μν–‰ν–λ‹¤λ” μ 
* κ·Έλ¦¬κ³  μ—¬λ¬ ν”„λ΅μ νΈλ¥Ό λ™μ‹μ— μ—΄μ–΄λ‘μ—λ‹¤λ” μ μ…λ‹λ‹¤.

μ΄ ν¬μ¤ν…μ—μ„λ” μ΄ ν„μƒμ μ›μΈκ³Ό μλ°© λ°©λ²•μ„ μ •λ¦¬ν•΄λ³΄κ² μµλ‹λ‹¤.

### μΈν…”λ¦¬μ μ΄ λΉλ“ vs κ·Έλλ“¤ λΉλ“

#### 1. μΈν…”λ¦¬μ μ΄λ΅ Gradle λ¨λΈ λΉλ“ (OOM λ°μƒ)

* **λ¬΄μ—‡μ„ ν•λ”κ°€?** μΈν…”λ¦¬μ μ΄κ°€ `build.gradle` νμΌμ„ λ¶„μ„ν•΄ ν”„λ΅μ νΈ κµ¬μ΅°μ™€ μμ΅΄μ„±μ„ μμ²΄ λ¨λΈλ΅ λ³€ν™ν•©λ‹λ‹¤.
* **μ–΄λ””μ„ μ‹¤ν–‰λλ”κ°€?** **μΈν…”λ¦¬μ μ΄κ°€ μ‹¤ν–‰ μ¤‘μΈ JVM ν”„λ΅μ„Έμ¤ λ‚΄λ¶€**μ—μ„ μν–‰λ©λ‹λ‹¤. μ¦‰, **IDEμ— ν• λ‹Ήλ λ©”λ¨λ¦¬λ¥Ό κ·Έλ€λ΅** μ‚¬μ©ν•©λ‹λ‹¤.
* **λ¬Έμ κ°€ λ­”κ°€?** μΈν…”λ¦¬μ μ΄λ” **μ—΄λ¦° λ¨λ“  ν”„λ΅μ νΈμ μΈλ±μ¤, μΊμ‹, κµ¬μ΅° μ •λ³΄λ¥Ό λ©”λ¨λ¦¬μ— μ μ§€**ν•©λ‹λ‹¤. μ—¬κΈ°μ— **μƒλ΅μ΄ Gradle λ¨λΈ λΉλ“κΉμ§€ κ²ΉμΉλ©΄ OOM**μ΄ μ‰½κ² λ°μƒν•©λ‹λ‹¤.

#### 2. Gradleλ΅ μ§μ ‘ λΉλ“ (μ •μƒ λ™μ‘)

* **λ¬΄μ—‡μ„ ν•λ”κ°€?** `./gradlew build` λ…λ Ήμ–΄ μ‹¤ν–‰κ³Ό λ™μΌν•κ², λ³„λ„μ Gradle ν”„λ΅μ„Έμ¤κ°€ μ‹¤μ  λΉλ“λ¥Ό μν–‰ν•©λ‹λ‹¤.
* **μ–΄λ””μ„ μ‹¤ν–‰λλ”κ°€?** μΈν…”λ¦¬μ μ΄μ™€ λ…λ¦½μ μΈ μƒλ΅μ΄ JVM ν”„λ΅μ„Έμ¤μ—μ„ λ™μ‘ν•©λ‹λ‹¤. μ΄ JVMμ€ `gradle.properties`μ— μ •μλ λ©”λ¨λ¦¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
* **μ¥μ ?** λΉλ“κ°€ μΆ…λ£λλ©΄ ν•΄λ‹Ή JVMλ„ μΆ…λ£λμ–΄ λ©”λ¨λ¦¬κ°€ μλ™ ν•΄μ λ©λ‹λ‹¤. IDE ν™ λ©”λ¨λ¦¬λ¥Ό κ±°μ μ‚¬μ©ν•μ§€ μ•κΈ° λ•λ¬Έμ— OOMμ΄ λ°μƒν•μ§€ μ•μµλ‹λ‹¤.

### κ·Έλ¦¬ ν¬μ§€ μ•μ€ ν”„λ΅μ νΈμ—μ„λ„ OOMμ΄ λ°μƒν•λ” μ΄μ 

ν”„λ΅μ νΈ μμ²΄κ°€ μ‘λ”λΌλ„, μ—¬λ¬ ν”„λ΅μ νΈλ¥Ό λ™μ‹μ— μ—΄μ–΄λ‘λ©΄ μΈν…”λ¦¬μ μ΄μ λ©”λ¨λ¦¬ μ‚¬μ©λ‰μ€ λΉ λ¥΄κ² μ¦κ°€ν•©λ‹λ‹¤. IDEλ” λ¨λ“  μ—΄λ¦° ν”„λ΅μ νΈμ μΈλ±μ‹± μ •λ³΄μ™€ μΊμ‹λ¥Ό λ©”λ¨λ¦¬μ— λ³΄κ΄€ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

μ΄ μƒνƒμ—μ„ μƒλ΅μ΄ Gradle λ¨λΈ λΉλ“λ¥Ό μν–‰ν•λ©΄ ν™μ΄ λ¶€μ΅±ν•΄μ Έ OutOfMemoryErrorκ°€ λ°μƒν•©λ‹λ‹¤.

### ν•΄κ²° λ°©λ²•

#### 1. μΈν…”λ¦¬μ μ΄ λ©”λ¨λ¦¬ ν™•μ¥

λ³΄ν†µ λΈ”λ΅κ·Έ κ²€μƒ‰ μ‹ κ°€μ¥ λ¨Όμ € λ‚μ¤λ” ν•΄κ²°λ°©λ²• μ…λ‹λ‹¤.

1. μƒλ‹¨ λ©”λ‰΄μ—μ„ `Help > Edit Custom VM Options...`μ„ μ„ νƒν•©λ‹λ‹¤.
2. `idea64.exe.vmoptions` νμΌμ—μ„ `Xmx` μ„¤μ •μ„ μμ •ν•©λ‹λ‹¤.
   * `Xmx4096m` // 4GB
   * `Xmx6144m` // 6GB
3. μ €μ¥ ν›„ μΈν…”λ¦¬μ μ΄λ¥Ό μ¬μ‹μ‘ν•©λ‹λ‹¤.

RAM μ©λ‰μ΄ 8GB μ΄ν•μΈ PCμ—μ„λ” λ„λ¬΄ λ†’μ€ κ°’μ„ μ„¤μ •ν•μ§€ μ•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.

#### 2. λΉλ“ λ° μ‹¤ν–‰μ„ Gradleμ— μ„μ„

1. **`File > Settings (Windows/Linux)`** λλ” \*\*`IntelliJ IDEA > Preferences`\*\*λ¥Ό μ—½λ‹λ‹¤.
2. \*\*`Build, Execution, Deployment > Build Tools > Gradle`\*\*λ΅ μ΄λ™ν•©λ‹λ‹¤.
3. \*\*`Build and run using**, **Run tests using**` ν•­λ©μ„ λ¨λ‘ \*\*`Gradle`\*\*λ΅ μ„¤μ •ν•©λ‹λ‹¤.
4. μ €μ¥ ν›„ μ¬μ‹μ‘ν•©λ‹λ‹¤.

μ΄ μ„¤μ • μ΄ν›„μ—λ” Run λ²„νΌμ„ λλ¬λ„ Gradleμ΄ λ³„λ„μ ν”„λ΅μ„Έμ¤λ΅ λΉλ“λ¥Ό μν–‰ν•©λ‹λ‹¤.

λ‹¤λ§ μ΄λ°©λ²•μ€ μ†λ„ μΈ΅λ©΄μ—μ„ μΈν…”λ¦¬μ μ΄ λΉλ“λ³΄λ‹¤ λλ¦΄ μ λ„ μμµλ‹λ‹¤.

#### 3. μ κ°€ μ¶”μ² ν•λ” ν•΄κ²°λ°©λ²•

1. μ‚¬μ©ν•μ§€ μ•λ” ν”„λ΅μ νΈλ” λ‹«μ•„λ‘μ„Έμ”
2. κ°€λ” `File > Invalidate Caches...`λ΅ μΈν…”λ¦¬μ μ΄ μΊμ‹λ¥Ό λΉ„μ›μ£Όμ„Έμ”
3. μΈν…”λ¦¬μ μ΄ μ°μΈ΅ ν•λ‹¨μ μ € λ…Έλ€μμ—­μ„ λ„λ¥΄λ©΄ μΊμ‹ μ§€μ›μ§‘λ‹λ‹¤

<figure><img src="../../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

* μ΄κ²ƒλ§ν•΄λ„ μ›¬λ§ν• ν”„λ΅μ νΈλ” μ¶©λ¶„ν•λ‹¤κ³  μƒκ°ν•©λ‹λ‹¤.
