---
description: >-
  Docker를 밀키트에 비유하면, Image는 요리를 준비하기 위한 밀키트의 설계도와 같은 역할을 한다. Container는 밀키트를 사용해
  실제로 조리된 결과물(요리)이라고 볼 수 있다.
---

# 🥗 Docker: Container & Image

## Docker Image?

도커 이미지란 컨테이너 실행에 필요한 설정, 의존성, 애플리케이션 코드 등을 모두 포함하는 **불변의 템플릿**이다. \
이미지는 읽기 전용으로 저장되며, 컨테이너는 이 이미지를 기반으로 실행된다.

### **Compared to a meal kit**

* 이미지는 요리를 하기 위한 **템플릿(설명서)**&#xACFC; **포장된 재료**를 모두 포함한 설계도라고 볼 수 있다.
* 이미지에는 "**어떤 환경(OS)**", "필요한 **프로그램과 라이브러리**", "실행할 애플리케이션 **코드**"가 명시되어 있다.
* 이 이미지는 요리의 모든 준비 과정을 완성된 상태로 저장한 것과 같다.
* 예를 들어, 치킨 밀키트에서 재료(닭고기, 소스 등)와 레시피(순서와 방법)가 포함된 것처럼 \
  도커 이미지는 컨테이너 실행에 필요한 모든 것을 포함하고 있다.

### **Feature**

1. **레이어 구조**\
   이미지는 여러 레이어로 구성되어 있다. \
   각 레이어는 변경 사항을 포함하며, 하위 레이어를 재사용할 수 있어 효율적이다.
2. **재사용 가능**\
   동일한 이미지를 기반으로 여러 컨테이너를 실행할 수 있다.
3. **버전 관리**\
   이미지에는 태그를 통해 버전을 관리할 수 있다.

***

## Docker Container?

도커 컨테이너는 도커 이미지를 실행한 결과로 생성된 **가상 환경**이다. \
컨테이너는 독립적으로 애플리케이션을 실행하며, \
이미지의 읽기 전용 데이터를 기반으로 쓰기 가능한 레이어를 추가한다.

### **Compared to a meal kit**

* **컨테이너**는 이미지를 기반으로 실행된 결과물이다.
* 즉, 컨테이너는 밀키트를 뜯어서 실제로 조리된 **완성된 요리**에 해당한다.
* 이미지는 변하지 않고 항상 동일한 상태로 유지되지만, \
  컨테이너는 **실행 중에 데이터가 추가되거나 상태가 변할 수 있다.**
* 예를 들어, 닭고기를 조리하면서 소스를 첨가하거나 온도를 조절하는 것은 \
  실행 중인 컨테이너의 동작을 반영한다고 볼 수 있다.

### Feature

1. **독립적 실행 환경**\
   컨테이너는 필요한 라이브러리와 종속성을 포함해 애플리케이션을 격리된 환경에서 실행한다.
2. **동일한 결과 보장**\
   어디에서 실행하든 동일한 동작과 결과를 제공한다.
3. **동적 생성과 삭제**\
   컨테이너는 필요에 따라 생성, 중지, 삭제가 가능하다.

***

### Difference Between Image & Container

| Feature  | Docker Image       | Docker Container |
| -------- | ------------------ | ---------------- |
| 상태       | 불변 (읽기 전용)         | 가변 (쓰기 가능)       |
| 실행 가능 여부 | 실행 불가              | 실행 가능한 애플리케이션 환경 |
| 구성 요소    | 파일 시스템 및 실행 환경 템플릿 | 이미지 기반 실행 환경     |
| 목적       | 컨테이너 생성의 템플릿 역할    | 애플리케이션 실행        |

***

### Workflow - Image to Container

<figure><img src="../../.gitbook/assets/스크린샷 2024-11-23 오후 11.59.44.png" alt=""><figcaption></figcaption></figure>

***

### Docker Image Lifecycle

<figure><img src="../../.gitbook/assets/스크린샷 2024-11-24 오전 12.01.55.png" alt=""><figcaption></figcaption></figure>

### **Docker Container Lifecycle**

<figure><img src="../../.gitbook/assets/스크린샷 2024-11-24 오전 12.01.04.png" alt=""><figcaption></figcaption></figure>

***

### Conclusion

Docker 이미지와 컨테이너는 도커 기술의 핵심이다. \
이미지는 실행 가능한 컨테이너를 생성하기 위한 템플릿이며, \
컨테이너는 애플리케이션을 실제로 실행하는 환경이다. \
두 개념을 명확히 이해하면, 더 효과적으로 도커를 사용할 수 있다.
